---
layout: post
title: "Docker使用笔记"
description: "Docker是对LXC的一个抽象，依赖于LXC，相比KVM这种Hypervisor，LXC要轻量级很多，但是LXC很难打包分发，Docker就是解决这个问题，当然还提供了一系列的辅助功能，本文是自己在使用Docker使用过程中的一些记录"
categories: [tech]
tags: [virtualization, linux, container]
---


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Docker</a>
<ul>
<li><a href="#sec-1-1">1.1 一个例子</a></li>
<li><a href="#sec-1-2">1.2 运行一个DB2 Container</a></li>
<li><a href="#sec-1-3">1.3 Docker仓库</a></li>
<li><a href="#sec-1-4">1.4 删除一个本地image</a></li>
</ul>
</li>
<li><a href="#sec-2">2 centos</a></li>
<li><a href="#sec-3">3 docker 重要的特性</a></li>
<li><a href="#sec-4">4 service discovery</a></li>
<li><a href="#sec-5">5 clusetr management</a></li>
<li><a href="#sec-6">6 docker paas</a></li>
<li><a href="#sec-7">7 coreos</a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Docker<sup><a class="footref" name="fnr-.1" href="#fn-.1">1</a></sup></h2>
<div class="outline-text-2" id="text-1">

<p>Docker是对LXC的一个抽象，依赖于LXC，相比KVM这种Hypervisor，LXC要轻量级很多<sup><a class="footref" name="fnr-.2" href="#fn-.2">2</a></sup>
，但是LXC很难打包分发，Docker就是解决这个问题，当然还提供了一系列的辅助功能，本
文是自己在使用Docker使用过程中的一些记录。
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">一个例子</h3>
<div class="outline-text-3" id="text-1-1">

<p>先来感受一下，我想在我机器上跑一个Oracle，又不想跑在本地。之前都是通过KVM，然后
建一个Ubuntu虚拟机，安装OracleXE版本。用起来也挺方便，但还是觉得有些不爽，一个是
占地方，另外就是耗资源，开销挺大，多开几个就受不了。
</p>
<p>
现在我们来看看Docker怎么玩，首先我们在docker仓库查找一下，看看是否有活雷锋：
</p>


<pre class="example">tacy@tacy:~$ sudo docker search oracle
NAME                              DESCRIPTION                                     STARS     OFFICIAL   TRUSTED
wnameless/oracle-xe-11g           SYS &amp; SYSTEM password: oracle https://inde...   5                    [OK]
alexeiled/docker-oracle-xe-11g    This is a spin off from wnameless/docker-o...   2                    [OK]
haroon/docker-oracle-jdk7         Trusted Oracle JDK7 on Ubuntu:12.10             1                    [OK]
</pre>

<p>
很幸运，不用你自己费劲弄了，直接pull下来吧：
</p><pre class="example">
sudo docker pull wnameless/oracle-xe-11g
</pre>

<p>等待下载，时间比较长，接近1G的大小，完成之后来看看：
</p>


<pre class="example">tacy@tacy:~$ sudo docker images
REPOSITORY                TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
wnameless/oracle-xe-11g   latest              f8d224b82290        17 hours ago        2.389 GB
ubuntu                    13.10               9f676bd305a4        8 weeks ago         178 MB
</pre>


<p>
接下来按照该Image的<a href="https://index.docker.io/u/wnameless/oracle-xe-11g/">文档</a>操作，直接启动一个Container（我这里添加了-name参数）：
</p>


<pre class="example">tacy@tacy:~$ sudo docker run -name oraclexe -d -p 49160:22 -p 49161:1521 wnameless/oracle-xe-11g
d14110dc542540c4b83a44d8ca7b9d393a9aa4be7a60cd1ca757463bc12df2a9
tacy@tacy:~$ ps -ef|grep docker
root      1599  1588  0 09:58 ?        00:02:43 /usr/bin/docker -d
root     14977  1599  0 16:10 ?        00:00:00 lxc-start -n d14110dc542540c4b83a44d8ca7b9d393a9aa4be7a60cd1ca757463bc12df2a9 -f /var/lib/docker/containers/d14110dc542540c4b83a44d8ca7b9d393a9aa4be7a60cd1ca757463bc12df2a9/config.lxc -- /.dockerinit -g 172.17.42.1 -i 172.17.0.2/16 -mtu 1500 -- /bin/sh -c sed -i -E "s/HOST = [^)]+/HOST = $HOSTNAME/g" /u01/app/oracle/product/11.2.0/xe/network/admin/listener.ora; service oracle-xe start; /usr/sbin/sshd -D
</pre>

<p>
秒级启动，数据库连接信息：
</p><pre class="example">
hostname: localhost port: 49161 sid: xe username: system password: oracle
</pre>

<p>sys用户密码是oracle，可以通过ssh连接到container，root密码是admin：
</p>


<pre class="example">tacy@tacy:~$ ssh root@localhost -p 49160
root@localhost's password:
Welcome to Ubuntu 12.04 LTS (GNU/Linux 3.11.0-15-generic x86_64)

 * Documentation:  https://help.ubuntu.com/
root@d14110dc5425:~#
</pre>


<p>
连接数据库:
</p>


<pre class="example">root@d14110dc5425:~# su - oracle
oracle@d14110dc5425:~$ sqlplus '/as sysdba'

SQL*Plus: Release 11.2.0.2.0 Production on Fri Apr 4 08:19:36 2014

Copyright (c) 1982, 2011, Oracle.  All rights reserved.


Connected to:
Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production

SQL&gt;
</pre>


<p>
停止container：
</p><pre class="example">
tacy@tacy:~$ sudo docker stop oraclexe
</pre>

<p>或者：
</p>


<pre class="example">tacy@tacy:~$ sudo docker ps
CONTAINER ID        IMAGE                            COMMAND                CREATED             STATUS              PORTS                                                      NAMES
d14110dc5425        wnameless/oracle-xe-11g:latest   /bin/sh -c sed -i -E   11 minutes ago      Up 11 minutes       0.0.0.0:49160-&gt;22/tcp, 0.0.0.0:49161-&gt;1521/tcp, 8080/tcp   oraclexe
tacy@tacy:~$ sudo docker stop d14110dc5425
d14110dc5425
tacy@tacy:~$ sudo docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
tacy@tacy:~$
</pre>


<p>
重新启动该容器：
</p><pre class="example">
tacy@tacy:~$ sudo docker start oraclexe
</pre>


<p>
是不是很酷，还不赶紧去试试。
</p>
</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">运行一个DB2 Container</h3>
<div class="outline-text-3" id="text-1-2">

<p>上面是个简单的例子，让你先对Docker有个认识，现在我们来自己配置一个Container，我
们一步一步来。
</p>
<p>
假设说你希望有一个跑DB2 Express-C（DB2的免费版本）的Container，搜索一下，仓库里
没有，只能自己配置一个。
</p>
<p>
首先我们需要从BASE启动一个Container，我们这里的测试环境是Ubuntu12.04/Docker0.75
，首先我们下载BASE的Image：
</p><pre class="example">
sudo docker pull ubuntu
</pre>


<p>
接下来创建并运行一个Container<sup><a class="footref" name="fnr-.3" href="#fn-.3">3</a></sup>：
</p>


<pre class="example">tacy@tacy:~$ sudo docker run -i -name db2exc -t ubuntu /bin/bash
root@4e476fda5fb5:/# uname -a
Linux 4e476fda5fb5 3.11.0-15-generic #23~precise1-Ubuntu SMP Tue Dec 10 16:39:48 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux
</pre>

<p>
Kernel版本和宿主机一致。
</p>
<p>
DB2 Express-C在Ubuntu源里面提供了，这点比Oracle XE方便，你只需要apt安装就行,我
们先来找找：
</p><pre class="example">
sudo apt-cache search db2exc
</pre>

<p>显示没有这个包，由于db2exc属于Canonical Partner软件，查看一下apt源配置文件：
</p>


<pre class="example">root@4e476fda5fb5:/etc/apt# pwd
/etc/apt
root@4e476fda5fb5:/etc/apt# cat sources.list
deb http://archive.ubuntu.com/ubuntu precise main universe
deb http://archive.ubuntu.com/ubuntu precise-updates main universe
deb http://archive.ubuntu.com/ubuntu precise-security main universe
</pre>

<p>
源没有包括Partner源，我们从宿主机拷贝配置文件过来（简单编辑一下文件也行），但是
找了一圈，没发现什么好办法直接从Host拷贝文件到Container，不行咱们先装SSH，通过
scp来：
</p>


<pre class="example">root@4e476fda5fb5:/etc/apt# apt-get install ssh
root@4e476fda5fb5:/etc/apt# scp tacy@172.17.42.1:/etc/apt/sources.list .
tacy@172.17.42.1's password:
sources.list                                                                                                    100% 2278     2.2KB/s   00:00
root@4e476fda5fb5:/etc/apt# apt-get update
root@4e476fda5fb5:/etc/apt# apt-cache search db2exc
db2exc - DB2 Express-C 9.7 Fix Pack 5 for Linux
</pre>


<p>
安装一下：
</p><pre class="example">
apt-get install db2exc
</pre>


<p>
完成之后，切换到db2inst1用户就可以创建数据库了（缺省没有建库），到这里貌似问题
就解决了？事情还没完呢，现在我希望能自动启动SSH服务和DB2，并且可以从外面管理数
据库和访问它。
</p>
<p>
尝试启动一下SSH服务：
</p>


<pre class="example">root@4e476fda5fb5:/usr/sbin# service ssh start
root@4e476fda5fb5:/usr/sbin# ps -ef|grep ssh
root@4e476fda5fb5:/usr/sbin#
</pre>

<p>
没反应，其实很正常，Container并没有启动upstart服务，为了保证Container的轻量级，
当你创建一个Container的时候，它只会启动你命令行指定的命令（一般在dockerfile），
我们的Container启动的是/bin/bash，所以如果你要启动ssh，可以通过下面方式启动：
</p>


<pre class="example">root@4e476fda5fb5:/usr/sbin# /usr/sbin/sshd -D
Missing privilege separation directory: /var/run/sshd
root@4e476fda5fb5:/usr/sbin# mkdir /var/run/sshd
root@4e476fda5fb5:/usr/sbin# /usr/sbin/sshd -D &amp;
[1] 14
root@4e476fda5fb5:/usr/sbin# ps -ef|grep sshd
root        14     1  0 06:36 ?        00:00:00 /usr/sbin/sshd -D
root        16     1  0 06:36 ?        00:00:00 grep sshd
</pre>


<p>
能正常启动了，如果你想从外部连接进去，尝试一下：
</p>


<pre class="example">tacy@tacy:/var/cache/apt/archives$ ssh root@172.17.0.26
ssh: connect to host 172.17.0.26 port 22: Connection refused
</pre>


<p>
无法连接，你需要先把端口映射到Host上，另外你也不知道root密码，我们先设置一下密
码，接下来你希望能修改启动参数，但是很不幸，Container启动之后，无法变更命令，你
需要新建一个Container。<sup><a class="footref" name="fnr-.4" href="#fn-.4">4</a></sup>
</p>
<p>
由于你需要基于当前Container的配置新建一个，但是Container只能从Image创建，因此你
需要把当前的工作提交一下，生成一个新的Image，提交Image：
</p>


<pre class="example">tacy@tacy:/etc/init.d$ sudo docker commit db2exc tacylee/db2exc
250b78860e291ebd71948bbb596f7dfc1a7d61563184a433bb44a8f2363079cb
tacy@tacy:/etc/init.d$ sudo docker images
REPOSITORY                TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
tacylee/db2exc            latest              250b78860e29        24 seconds ago      1.349 GB
wnameless/oracle-xe-11g   latest              f8d224b82290        5 days ago          2.389 GB
</pre>


<p>
基于我们提交的Image运行一个Container：
</p>


<pre class="example">tacy@tacy:/etc/init.d$ sudo docker run -d -p 49170:22 -p 49171:50000 -name tt tacylee/db2exc /bin/bash -c '/etc/init.d/db2exc start &amp;&amp; /usr/sbin/sshd -D'
c71ac7f85e167850552809ec12a12e50e064d30dddfeb4d71302d16d0ac34502
</pre>


<p>
这个命令行有几个地方要注意，首先我们通过‘-d’参数让我们的Container运行在detached
模式（也就是后台模式），其次我们通过‘-p’参数把Container端口22和50000映射到Host，
另外就是CMD，这地方比较晕，弄了好久才明白<sup><a class="footref" name="fnr-.5" href="#fn-.5">5</a></sup><sup>, </sup><sup><a class="footref" name="fnr-.6" href="#fn-.6">6</a></sup>。关键点是，每个Container必须
有一个前台服务在运行，如果这个前台服务停止了，Container就停止了<sup><a class="footref" name="fnr-.7" href="#fn-.7">7</a></sup>，例如：
</p>


<pre class="example">tacy@tacy:~$ sudo docker run -d ubuntu echo 'helloworld'
3088fce883ece6e04282ea965af84ddd4165b67873811e949b543f8930aebe82
tacy@tacy:~$ sudo docker ps -a
CONTAINER ID        IMAGE                            COMMAND                CREATED             STATUS              PORTS                                                      NAMES
3088fce883ec        ubuntu:12.04                     echo helloworld        20 seconds ago      Exit 0
</pre>

<p>
可以看到，这个Container已经停止了，因为他没有前台进程在跑了，所以如果你需要你的
Container提供服务，你需要一个前台进程，很多时候我们用sshd来实现。接下来是要让我
们的Container启动DB2，使用命令组合实现即可。注意不能让sshd放在前面执行，因为他不
会结束，所以在它后面的命令无法执行。
</p>
<p>
到这里，我们貌似已经已经有了一个跑DB2的Container了。但是，这个世界总是没那么美好
，我们先看看Container的启动日志：
</p>


<pre class="example">tacy@tacy:~$ sudo docker logs tt
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
tput: No value for $TERM and no -T specified
error: permission denied on key 'kernel.msgmni'
error: permission denied on key 'kernel.msgmnb'
error: permission denied on key 'kernel.msgmax'
error: permission denied on key 'fs.file-max'
  * Starting DAS:                       failed.

Message: SQL4401C  The DB2 Administration Server encountered an error during startup.

  * Instance db2inst1 ( db2c_db2inst1 ):        done.
</pre>


<p>
进去看看/etc/init.d/db2exc脚本，发现它会去修改kernel参数，而Docker为了保证安全
，这些权限是被关闭的。简单做法是在Container里面配置好，然后别让脚本执行Kernel
参数的设置操作，另外如果你不想去配置，可以让你的Container运行在特权模式，只需在
创建Container的时候加上‘-privileged‘参数，这样Container就能执行任何权限指令了。
</p>
<p>
Kernel参数问题解决了之后，你通过SSH连接到Container，切换到db2inst1用户，尝试建
立数据库，很不幸，你会碰到下面错误：
</p>


<pre class="example">db2inst1@c71ac7f85e16:~$ db2 create db dd
SQL1042C  An unexpected system error occurred.  SQLSTATE=58004
</pre>


<p>
查看DB2日志文件，你会发现如下错误信息：
</p>


<pre class="example">2014-04-11-11.44.10.392525+000 E100588E1093        LEVEL: Error (OS)
PID     : 369                  TID  : 140502687016704PROC : db2sysc
INSTANCE: db2inst1             NODE : 000          DB   : DD
EDUID   : 79                   EDUNAME: db2loggr (DD)
FUNCTION: DB2 UDB, oper system services, sqloopenp, probe:80
MESSAGE : ZRC=0x870F0002=-2029060094=SQLO_BPSE "Debug logic error detected"
          DIA8501C A buffer pool logic error has occurred.
CALLED  : OS, -, open                             OSERR: EINVAL (22)
DATA #1 : Codepath, 8 bytes
4:11:15:20:22:37
DATA #2 : File name, 63 bytes
/home/db2inst1/db2inst1/NODE0000/SQL00001/SQLOGDIR/S0000000.LOG
DATA #3 : SQO Open File Options, PD_TYPE_SQO_FILE_OPEN_OPTIONS, 4 bytes
SQLO_REVISE, SQLO_READWRITE, SQLO_SHAREREAD, SQLO_WRITETHRU, SQLO_SECTOR_ALIGNED, SQLO_NO_THREAD_LEVEL_FILE_LOCK
DATA #4 : Hex integer, 4 bytes
0x00000180
DATA #5 : signed integer, 4 bytes
0
DATA #6 : signed integer, 4 bytes
16384
DATA #7 : String, 105 bytes
Search for ossError*Analysis probe point after this log entry for further
</pre>


<p>
这个问题折腾了我两天，对Linux编程不了解的恶果。导致该问题的原因是Docker在mount
rootfs的时候，用的aufs，但是不支持O_DIRECT<sup><a class="footref" name="fnr-.8" href="#fn-.8">8</a></sup><sup>, </sup><sup><a class="footref" name="fnr-.9" href="#fn-.9">9</a></sup><sup>, </sup><sup><a class="footref" name="fnr-.10" href="#fn-.10">10</a></sup><sup>, </sup><sup><a class="footref" name="fnr-.11" href="#fn-.11">11</a></sup>，而DB2对有
些文件的操作用到O_DIRECT，比如日志，这就导致了该问题。上面的链接中提到0.7版本已
经mount为ext4，并且支持O_DIRECT，但实际情况看貌似没有。解决办法上面的链接里面都
提到了，我这里采用的办法是直接bind-mount了Host的一个目录到Container，该目录位于
ext4文件系统，并且支持O_DIRECT，最终的Container创建命令如下：
</p><pre class="example">
sudo docker run -d -p 49170:22 -p 49171:50000 -v /home/tacy/Docker/db2db:/home/db2inst1/db2db -name db2exc -privileged tacylee/db2exc /bin/bash -c '/etc/init.d/db2exc start &amp;&amp; /usr/sbin/sshd -D'
</pre>

<p>然后把数据库创建在/home/db2inst1/db2db目录中即可。
</p>
<p>
如果你不想bind-mount Host的目录到Container（毕竟很不灵活），也可以考虑替换Docker
的后台存储为Devicemapper<sup><a class="footref" name="fnr-.12" href="#fn-.12">12</a></sup>。
</p>
<p>
对于这类问题的诊断方法可以通过strace来实现，例如上面的例子：从DB2的日志里面我们
知道是db2sysc需要执行系统的OPEN操作出现问题，你可以通过stace来捕获具体的错误。
</p>
<p>
我们先获取db2sysc的进程ID：
</p>


<pre class="example">root@314f5d6aa350:~# ps -ef|grep db2sysc
db2inst1   369   367  0 11:30 ?        00:00:23 db2sysc
root      2894  2881  0 15:12 pts/1    00:00:00 grep --color=auto db2sysc
</pre>


<p>
然后用下面命令trace db2sysc的所有open操作：
</p>


<pre class="example">root@314f5d6aa350:~# strace -Ff -e open -o trace.out -p 369
Process 369 attached with 36 threads - interrupt to quit
</pre>


<p>
在另一个终端执行数据库创建操作，完成之后，分析trace.out文件：
</p>


<pre class="example">2973  open("/home/db2inst1/sqllib/profile.env", O_RDONLY) = -1 ENOENT (No such file or directory)
2973  open("/etc/passwd", O_RDONLY|O_CLOEXEC) = 42
2973  open("/var/db2/global.reg", O_RDONLY|O_CREAT, 0644) = 42
2973  open("/home/db2inst1/db2inst1/NODE0000/SQL00001/SQLOGCTL.LFH.1", O_RDWR|O_DSYNC) = 42
2973  open("/home/db2inst1/db2inst1/NODE0000/SQL00001/SQLOGCTL.LFH.2", O_RDWR|O_DSYNC) = 43
2973  open("/proc/mounts", O_RDONLY)    = 45
2973  open("/home/db2inst1/db2inst1/NODE0000/SQL00001/SQLOGDIR/S0000000.LOG", O_RDWR|O_DSYNC|O_DIRECT) = -1 EINVAL (Invalid argument)
</pre>


<p>
看截取部分的最后一行，提示open操作的参数错误，基本你就能判断是O_DIRECT无法执行
导致，这属于换个思路解决问题，也很有效果。
</p>
<p>
到这里，一个能跑DB2 Express-C的Container才算完成了，唯一的遗憾就是挂着个外部目
录，不方便迁移，等待Docker解决吧。
</p>
</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">Docker仓库</h3>
<div class="outline-text-3" id="text-1-3">

<p>前面我们提到Docker的仓库，里面有各种Image提供，你也可以把你的Image提交到仓库，供
别人使用，你需要先去<a href="https://index.docker.io/">Docker Index</a>注册一个帐号，然后通过docker login命令登入，再通
过docker push即可，具体我也没有试过，等我把DB2的Image弄好了，或许去提交一个玩玩。
</p>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4">删除一个本地image</h3>
<div class="outline-text-3" id="text-1-4">

<p>删除命令如下：
</p><pre class="example">
sudo docker rmi &lt;IMAGE ID&gt;
</pre>


<p>
如果你碰到如下错误：
</p>


<pre class="example">tacy@tacy:~$ sudo docker rmi 8dbd9e392a96
Error: Conflict, 8dbd9e392a96 wasn't deleted
2014/04/04 14:07:55 Error: failed to remove one or more images
</pre>


<p>
很可能是由于该image正在被使用，你可以通过下面命令查看和操作
</p>


<pre class="example">sudo docker ps
sudo docker stop &lt;CONTAINER ID&gt;
sudo docker rm &lt;CONTAINER ID&gt;
sudo docker rmi &lt;IMAGE ID&gt;
</pre>


</div>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2">centos</h2>
<div class="outline-text-2" id="text-2">


<p>
<a href="http://wiki.centos.org/Cloud/Docker">Cloud/Doker - Centos Wiki</a>
</p>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3">docker 重要的特性</h2>
<div class="outline-text-2" id="text-3">

<ul>
<li>支持版本管理
</li>
<li>docker hub 支持自动build image
</li>
</ul>


</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4">service discovery</h2>
<div class="outline-text-2" id="text-4">

<ul>
<li>etcd
</li>
<li>consul
</li>
<li>self
</li>
<li>zookeeper
</li>
</ul>


</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5">clusetr management</h2>
<div class="outline-text-2" id="text-5">

<ul>
<li>fleet
</li>
<li>mesos/marathon
</li>
<li>google omega
</li>
<li>yarn
</li>
</ul>


</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6">docker paas</h2>
<div class="outline-text-2" id="text-6">

<ul>
<li>flynn
</li>
<li>deis
</li>
</ul>


</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7">coreos</h2>
<div class="outline-text-2" id="text-7">

<ul>
<li>etcd
</li>
<li>fleet
</li>
<li>docker
</li>
</ul>


<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<p class="footnote"><sup><a class="footnum" name="fn-.1" href="#fnr-.1">1</a></sup> <a href="http://docs.docker.io/en/latest/faq/">Docker FAQ</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.2" href="#fnr-.2">2</a></sup> <a href="http://stackoverflow.com/questions/16047306/how-is-docker-io-different-from-a-normal-virtual-machine?rq=1">How is Docker.io different from a normal virtual machine?</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.3" href="#fnr-.3">3</a></sup> <a href="http://docs.docker.io/en/latest/reference/run/">Docker Run Reference</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.4" href="#fnr-.4">4</a></sup> <a href="https://github.com/dotcloud/docker/issues/1228">running a different command on an existing container</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.5" href="#fnr-.5">5</a></sup> <a href="https://github.com/dotcloud/docker/issues/1826">After importing an image, run gives "no command specified</a>"
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.6" href="#fnr-.6">6</a></sup> <a href="https://groups.google.com/forum/#!topic/docker-user/yv2RAnaXvpk">Using sudo inside Docker image</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.7" href="#fnr-.7">7</a></sup> <a href="http://blog.trifork.com/2014/03/11/using-supervisor-with-docker-to-manage-processes-supporting-image-inheritance/">Using Supervisor with Docker to manage processes</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.8" href="#fnr-.8">8</a></sup> <a href="https://github.com/dotcloud/docker/issues/1916">docker build should support privileged operations</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.9" href="#fnr-.9">9</a></sup> <a href="https://github.com/dotcloud/docker/issues/3433">User defined layer mount options</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.10" href="#fnr-.10">10</a></sup> <a href="https://groups.google.com/forum/#!topic/docker-user/1pFhqlfbqQI">DB2 in container can't start unless I mount non-aufs volume from host</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.11" href="#fnr-.11">11</a></sup> <a href="http://webcache.googleusercontent.com/search?q=cache:tp3o-xrNBycJ:permalink.gmane.org/gmane.comp.sysutils.docker.user/950+&amp;cd=4&amp;hl=en&amp;ct=clnk">Re: Oracle Database won't run in docker container</a>
</p>


<p class="footnote"><sup><a class="footnum" name="fn-.12" href="#fnr-.12">12</a></sup> <a href="http://muehe.org/posts/switching-docker-from-aufs-to-devicemapper/">Switching Docker from aufs to devicemapper</a>
</p>


</div>
</div>

</div>
</div>
