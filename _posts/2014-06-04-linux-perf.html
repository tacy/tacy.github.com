<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. perf</a>
<ul>
<li><a href="#sec-1-1">1.1. ubuntu下的perf</a></li>
</ul>
</li>
<li><a href="#sec-2">2. perf</a>
<ul>
<li><a href="#sec-2-1">2.1. ubuntu下的perf</a></li>
</ul>
</li>
</ul>
</div>
</div>
---
layout: post
title: "perf notes"
description: "perf使用中碰到的一些问题总结"
categories: [tech]
tags: [linux, tools, debug, performance]
---

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> perf</h2>
<div class="outline-text-2" id="text-1">
<p>
strace相性对于很多熟悉linux的人来说应该都有所了解，使用起来也非常方便，但是他也
有很多问题，容易导致进程响应缓慢等，当然他对于诊断简单问题，比如进程起不来，进程
挂起等，非常好用，但是更深入的性能问题，就需要用到perf了，而perf最好的教程，看大
牛Brendan Gregg写的perf相关文章<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>。我这里主要在使用过程中的一些理解。
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> ubuntu下的perf</h3>
<div class="outline-text-3" id="text-1-1">
<p>
我机器上的ubuntu版本是12.04，但是使用的kernel版本是
</p>
<pre class="example">
#+OPTIONS: ^:nil
</pre>
---
layout: post
title: "perf notes"
description: "perf使用中碰到的一些问题总结"
categories: [tech]
tags: [linux, tools, debug, performance]
---
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> perf</h2>
<div class="outline-text-2" id="text-2">
<p>
strace相性对于很多熟悉linux的人来说应该都有所了解，使用起来也非常方便，但是他也
有很多问题，容易导致进程响应缓慢等，当然他对于诊断简单问题，比如进程起不来，进程
挂起等，非常好用，但是更深入的性能问题，就需要用到perf了，而perf最好的教程，看大
牛Brendan Gregg写的perf相关文章<sup><a id="fnr.1.100" name="fnr.1.100" class="footref" href="#fn.1">1</a></sup>。我这里主要在使用过程中的一些理解。
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> ubuntu下的perf</h3>
<div class="outline-text-3" id="text-2-1">
<p>
我机器上的ubuntu版本是12.04，但是使用的kernel版本是
</p>

<pre class="example">
linux-image-generic-lts-trusty: 已安装：  3.13.0.27.23
</pre>

<p>
sudo stap -L 'process("/usr/lib/jvm/java-6-openjdk-amd64/jre/lib/amd64/server/libjvm.so").function("*")'
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
<a href="http://www.brendangregg.com/perf.html">perf Examples</a>
</p></div>


</div>
</div>
